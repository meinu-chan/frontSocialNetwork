{"version":3,"sources":["components/authPage/components/register/register.tsx","components/authPage/components/login/login.tsx","components/authPage/Auth.tsx","redux/actions/friends.js","components/homePage/components/friendsList/components/friendListModal/friendListModal.tsx","components/homePage/components/friendsList/friendsList.tsx","components/homePage/components/createPublication/createPublication.tsx","components/homePage/components/publication/components/comment/comment.tsx","components/homePage/components/publication/components/addComment/addComment.tsx","components/homePage/components/publication/components/modalWindow/modalWindow.tsx","components/homePage/components/publication/publication.tsx","redux/actions/user.js","components/homePage/components/header/components/friendRequests.tsx","components/homePage/components/header/header.tsx","components/homePage/components/addFriendButton/addFriendButton.tsx","components/homePage/Home.tsx","App.jsx","redux/reducers/friends.js","redux/reducers/listOfReq.js","redux/reducers/user.js","redux/reducers/index.js","redux/store.js","index.tsx"],"names":["register","nicknameSetter","passwordSetter","showLoginSetter","nickname","password","React","useState","showError","setShowError","error","setError","showPasswordError","setShowPasswordError","regexpPass","regexNick","className","FormGroup","id","FormControl","InputLabel","Input","aria-describedby","onChange","type","onClick","Button","variant","color","e","preventDefault","match","axios","post","process","concat","then","res","sessionStorage","setItem","data","userId","token","status","document","location","href","console","log","err","response","message","request","login","Auth","setNickname","setPassword","showLogin","setShowLogin","target","value","prev","setFriends","friends","payload","FriendListModal","open","handleClose","handleToFriendPage","Modal","onClose","closeAfterTransition","BackdropComponent","Backdrop","BackdropProps","timeout","Fade","in","map","friend","_id","FriendsList","showFriends","setShowFriends","dispatch","useDispatch","useEffect","get","window","split","pop","friendsState","useSelector","length","index","icon","faCircle","CreatePublication","getPublications","textareaRef","useRef","textareaHeight","current","style","height","addEventListener","scrollTop","scrollHeight","addPublication","a","put","headers","Authorization","getItem","catch","focus","ref","placeholder","maxLength","Comment","commentId","date","commentData","setCommentData","dateFormatter","minutes","getMinutes","toString","getHours","toDateString","Date","AddComment","publicId","updateComments","trim","comment","ModalWindow","setComs","coms","Publication","likedUsers","comments","like","setLike","showComments","setShowComments","likeDiv","getElementById","includes","faComment","flag","publication","faHeart","setUser","user","FriendRequest","anchorEl","waitForRes","users","setUsers","forEach","handleAnswer","Menu","keepMounted","PaperProps","maxHeight","ITEM_HEIGHT","width","MenuItem","selected","faCheck","faTimes","Header","nicknameRef","anchorElRef","render","setRender","setOpen","headerState","waitingForResponse","AppBar","position","Toolbar","Typography","noWrap","IconButton","Badge","badgeContent","AddFriendButton","sendFriendRequest","follow","disabled","Home","publics","setPublics","myPage","setMyPage","userState","_req","requests","publications","getAllPublications","useCallback","potentialFriend","now","App","basename","path","exact","component","Component","initialState","friendsReducer","state","action","listOfReqReducer","userReducer","rootReducer","combineReducers","showList","store","createStore","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.01924199.chunk.js","sourcesContent":["/* eslint-disable react-hooks/rules-of-hooks */\r\nimport React from \"react\";\r\nimport {\r\n  Button,\r\n  FormGroup,\r\n  FormControl,\r\n  InputLabel,\r\n  Input,\r\n} from \"@material-ui/core\";\r\nimport axios from \"axios\";\r\n\r\nimport IAuth from \"../../../../Interfaces/IAuth\";\r\n\r\nconst register: React.FC<IAuth> = ({\r\n  nicknameSetter,\r\n  passwordSetter,\r\n  showLoginSetter,\r\n  nickname,\r\n  password,\r\n}) => {\r\n  const [showError, setShowError] = React.useState<boolean>(false);\r\n  const [error, setError] = React.useState<string>(\"\");\r\n\r\n  const [showPasswordError, setShowPasswordError] = React.useState<boolean>(\r\n    false\r\n  );\r\n\r\n  const regexpPass = /(?=.*[0-9])(?=.*[!@#$%^&*])(?=.*[a-z])(?=.*[A-Z])[0-9a-zA-Z!@#$%^&*]{6,}/g;\r\n  const regexNick = /[0-9a-zA-Z!@#$%^&*]{3,}/g;\r\n\r\n  const handleSignin = (e: any): void => {\r\n    e.preventDefault();\r\n    setShowPasswordError(() => false);\r\n    setShowError(false);\r\n    nickname.match(regexNick) &&\r\n      password.match(regexpPass) &&\r\n      axios\r\n        .post(`${process.env.REACT_APP_SERVER_URL}`.concat(\"auth/register\"), {\r\n          nickname,\r\n          password,\r\n        })\r\n        .then(\r\n          (res) => {\r\n            sessionStorage.setItem(\"userId\", res.data.userId);\r\n            sessionStorage.setItem(\"token\", res.data.token);\r\n            res.status === 201\r\n              ? (document.location.href = `/id=${res.data.userId}`)\r\n              : console.log(res.status);\r\n          },\r\n          (err) => {\r\n            if (err.response) {\r\n              console.log(err.response);\r\n              setShowError(true);\r\n              setError(err.response.data.message);\r\n            } else if (err.request) {\r\n              console.log(err.request);\r\n            } else {\r\n              console.log(err);\r\n            }\r\n          }\r\n        );\r\n\r\n    if (!nickname.match(regexNick)) {\r\n      setShowError(true);\r\n      setError(\"Must contain at least 3 characters\");\r\n    }\r\n    if (!password.match(regexpPass)) setShowPasswordError(true);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <h2>Sign In</h2>\r\n      <div className=\"authDiv\">\r\n        <FormGroup id=\"auth\">\r\n          <FormControl>\r\n            <InputLabel>Nickname</InputLabel>\r\n            <Input\r\n              aria-describedby=\"my-helper-text\"\r\n              onChange={nicknameSetter}\r\n            />\r\n            {showError && <p className=\"error\">{error}</p>}\r\n          </FormControl>\r\n          <FormControl>\r\n            <InputLabel>Password</InputLabel>\r\n            <Input\r\n              aria-describedby=\"my-helper-text\"\r\n              type=\"password\"\r\n              onChange={passwordSetter}\r\n            />\r\n            {showPasswordError && (\r\n              <p className=\"error\">\r\n                Must contain A-Z, a-z, 0-9, !,@,#,$,%,^,&,*\r\n              </p>\r\n            )}\r\n          </FormControl>\r\n        </FormGroup>\r\n        <div className=\"authBottom\">\r\n          <p id=\"linkToRegister\" className=\"log-sign\" onClick={showLoginSetter}>\r\n            I already have account.\r\n          </p>\r\n          <Button\r\n            type=\"button\"\r\n            variant=\"outlined\"\r\n            color=\"primary\"\r\n            onClick={handleSignin}\r\n          >\r\n            Sign In\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default register;\r\n","/* eslint-disable react-hooks/rules-of-hooks */\r\nimport React from \"react\";\r\nimport {\r\n  Button,\r\n  FormGroup,\r\n  FormControl,\r\n  InputLabel,\r\n  Input,\r\n} from \"@material-ui/core\";\r\nimport axios from \"axios\";\r\n\r\nimport IAuth from \"../../../../Interfaces/IAuth\";\r\n\r\nconst login: React.FC<IAuth> = ({\r\n  nicknameSetter,\r\n  passwordSetter,\r\n  showLoginSetter,\r\n  nickname,\r\n  password,\r\n}) => {\r\n  const [showError, setShowError] = React.useState<boolean>(false);\r\n  const [error, setError] = React.useState<string>(\"\");\r\n\r\n  const handleLogin = (e: any): void => {\r\n    e.preventDefault();\r\n    axios\r\n      .post(`${process.env.REACT_APP_SERVER_URL}`.concat(\"auth/login\"), {\r\n        nickname,\r\n        password,\r\n      })\r\n      .then(\r\n        (res) => {\r\n          sessionStorage.setItem(\"userId\", res.data.userId);\r\n          sessionStorage.setItem(\"token\", res.data.token);\r\n          res.status === 200\r\n            ? (document.location.href = `/id=${res.data.userId}`)\r\n            : console.log(res.status);\r\n        },\r\n        (err) => {\r\n          if (err.response) {\r\n            setShowError(true);\r\n            setError(err.response.data.message);\r\n          } else if (err.request) {\r\n            console.log(err.request);\r\n          } else {\r\n            console.log(err);\r\n          }\r\n        }\r\n      );\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <h2>Log In</h2>\r\n      {showError && <p className=\"error\">{error}</p>}\r\n      <div className=\"authDiv\">\r\n        <FormGroup id=\"auth\">\r\n          <FormControl>\r\n            <InputLabel>Nickname</InputLabel>\r\n            <Input\r\n              aria-describedby=\"my-helper-text\"\r\n              onChange={nicknameSetter}\r\n            />\r\n          </FormControl>\r\n          <FormControl>\r\n            <InputLabel>Password</InputLabel>\r\n            <Input\r\n              aria-describedby=\"my-helper-text\"\r\n              type=\"password\"\r\n              onChange={passwordSetter}\r\n            />\r\n          </FormControl>\r\n        </FormGroup>\r\n        <div className=\"authBottom\">\r\n          <p id=\"linkToLogin\" className=\"log-sign\" onClick={showLoginSetter}>\r\n            I don't have account.\r\n          </p>\r\n          <Button\r\n            type=\"button\"\r\n            onClick={handleLogin}\r\n            variant=\"outlined\"\r\n            color=\"primary\"\r\n          >\r\n            Log In\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default login;\r\n","import React from \"react\";\r\nimport \"./Auth.scss\";\r\nimport Register from \"./components/register/register\";\r\nimport Login from \"./components/login/login\";\r\n\r\nexport const Auth: React.FC = () => {\r\n  const [nickname, setNickname] = React.useState<string>(\"\");\r\n  const [password, setPassword] = React.useState<string>(\"\");\r\n  const [showLogin, setShowLogin] = React.useState<boolean>(false);\r\n\r\n  const nicknameSetter = (e: React.ChangeEvent<HTMLInputElement>): void => {\r\n    setNickname(e.target.value);\r\n  };\r\n\r\n  const passwordSetter = (e: React.ChangeEvent<HTMLInputElement>): void => {\r\n    setPassword(e.target.value);\r\n  };\r\n\r\n  const showLoginSetter = () => setShowLogin((prev) => !prev);\r\n\r\n  return (\r\n    <div className=\"authPage\">\r\n      <div className=\"auth\">\r\n        <form className=\"authForm\">\r\n          {(showLogin && (\r\n            <Login\r\n              nicknameSetter={nicknameSetter}\r\n              passwordSetter={passwordSetter}\r\n              showLoginSetter={showLoginSetter}\r\n              nickname={nickname}\r\n              password={password}\r\n            />\r\n          )) || (\r\n            <Register\r\n              nicknameSetter={nicknameSetter}\r\n              passwordSetter={passwordSetter}\r\n              showLoginSetter={showLoginSetter}\r\n              nickname={nickname}\r\n              password={password}\r\n            />\r\n          )}\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","export const setFriends = (friends) => ({\r\n    type: \"SET_FRIENDS\",\r\n    payload: friends\r\n})","import React from \"react\";\r\nimport { Modal, Backdrop, Fade } from \"@material-ui/core\";\r\n\r\nimport \"./friendListModal.scss\";\r\n\r\ninterface IModalWindow {\r\n  handleClose(): void;\r\n  open: boolean;\r\n  friends: [User];\r\n  handleToFriendPage(id: string): void;\r\n}\r\n\r\ninterface User {\r\n  nickname: string;\r\n  publications: [];\r\n  _id: string;\r\n  friends: [User];\r\n}\r\n\r\nconst FriendListModal: React.FC<IModalWindow> = ({\r\n  open,\r\n  handleClose,\r\n  friends,\r\n  handleToFriendPage,\r\n}) => {\r\n  return (\r\n    <Modal\r\n      className=\"Modal d-flex\"\r\n      open={open}\r\n      onClose={handleClose}\r\n      closeAfterTransition\r\n      BackdropComponent={Backdrop}\r\n      BackdropProps={{\r\n        timeout: 500,\r\n      }}\r\n    >\r\n      <Fade in={open}>\r\n        <div className=\"paper\">\r\n          <ul className=\"d-flex row\">\r\n            {friends &&\r\n              friends.map((friend) => {\r\n                return (\r\n                  <li\r\n                    className=\"modal-window-friend col-3 d-flex\"\r\n                    key={`${friend._id}`}\r\n                    onClick={() => handleToFriendPage(friend._id)}\r\n                  >\r\n                    <div className=\"modal-window-main d-flex\">\r\n                      <div className=\"modal-window-friend-avatar\"></div>\r\n                      <div className=\"modal-window-friend-nickname\">\r\n                        {friend.nickname}\r\n                      </div>\r\n                    </div>\r\n                  </li>\r\n                );\r\n              })}\r\n          </ul>\r\n        </div>\r\n      </Fade>\r\n    </Modal>\r\n  );\r\n};\r\nexport default FriendListModal;\r\n","import React from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faCircle } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\n\r\nimport \"./friendsList.scss\";\r\nimport { setFriends } from \"../../../../redux/actions/friends\";\r\nimport FriendsListModal from \"./components/friendListModal/friendListModal\";\r\n\r\ninterface RootState {\r\n  friends: [User];\r\n}\r\n\r\ninterface User {\r\n  nickname: string;\r\n  publications: [];\r\n  _id: string;\r\n  friends: [User];\r\n}\r\nconst FriendsList: React.FC = () => {\r\n  const [showFriends, setShowFriends] = React.useState<boolean>(false);\r\n\r\n  const dispatch = useDispatch();\r\n  React.useEffect(() => {\r\n    axios\r\n      .get(\r\n        `${process.env.REACT_APP_SERVER_URL}`.concat(\r\n          `page/friends/${window.location.href.split(\"/\").pop()}`\r\n        )\r\n      )\r\n      .then((res) => {\r\n        dispatch(setFriends(...res.data.friends));\r\n      });\r\n  }, [dispatch]);\r\n\r\n  const friendsState = useSelector(({ friends }: RootState) => friends);\r\n\r\n  const handleToFriendPage = (id: string) => {\r\n    document.location.href = `${process.env.REACT_APP_CLIENT_URL}id=${id}`;\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <FriendsListModal\r\n        open={showFriends}\r\n        handleClose={() => {\r\n          setShowFriends(false);\r\n        }}\r\n        handleToFriendPage={handleToFriendPage}\r\n        friends={friendsState}\r\n      />\r\n      <div className=\"user-friends\">\r\n        <div className=\"friends-header\">\r\n          <h4>Friends: {friendsState.length}</h4>\r\n        </div>\r\n        <div className=\"list-friends d-flex\">\r\n          {(friendsState.length > 0 &&\r\n            friendsState.map((friend, index) => {\r\n              return (\r\n                <div key={`${friend._id}_${index}`} className=\"d-flex w-100\">\r\n                  <div\r\n                    className=\"friend d-flex\"\r\n                    onClick={() => handleToFriendPage(friend._id)}\r\n                  >\r\n                    <div className=\"friend-image\"> </div>\r\n\r\n                    <div className=\"friend-nickname\">\r\n                      <h5>{friend.nickname}</h5>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              );\r\n            })) || (\r\n            <div className=\"friend-list-empty d-flex\">\r\n              Friend's list is empty.\r\n            </div>\r\n          )}\r\n        </div>\r\n        {friendsState.length > 0 && (\r\n          <div\r\n            className=\"friends-bottom col-md-12\"\r\n            onClick={() => setShowFriends(true)}\r\n          >\r\n            <div className=\"friends-bottom-dots\">\r\n              <FontAwesomeIcon icon={faCircle} className=\"friends-bottom-dot\" />\r\n              <FontAwesomeIcon icon={faCircle} className=\"friends-bottom-dot\" />\r\n              <FontAwesomeIcon icon={faCircle} className=\"friends-bottom-dot\" />\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default FriendsList;\r\n","import React from \"react\";\r\nimport { Button } from \"@material-ui/core\";\r\nimport axios from \"axios\";\r\n\r\nimport \"./createPublication.scss\";\r\n\r\ninterface ICreatePublication {\r\n  getPublications: VoidFunction;\r\n}\r\n\r\nconst CreatePublication: React.FC<ICreatePublication> = ({\r\n  getPublications,\r\n}) => {\r\n  const textareaRef = React.useRef<any>();\r\n\r\n  const areaFocus = () => {\r\n    textareaRef.current && textareaRef.current.focus();\r\n  };\r\n\r\n  let textareaHeight: string | null = null;\r\n\r\n  if (textareaRef.current) {\r\n    textareaHeight = textareaRef.current.style.height;\r\n    textareaRef.current.addEventListener(\"keyup\", () => {\r\n      if (textareaRef.current.scrollTop > 0) {\r\n        textareaRef.current.style.height = `${textareaRef.current.scrollHeight}px`;\r\n      }\r\n    });\r\n  }\r\n\r\n  const addPublication = async () => {\r\n    textareaRef.current &&\r\n      (await axios\r\n        .put(\r\n          `${process.env.REACT_APP_SERVER_URL}`.concat(\"publication\"),\r\n          {\r\n            value: textareaRef.current.value,\r\n          },\r\n          {\r\n            headers: {\r\n              Authorization: sessionStorage.getItem(\"token\"),\r\n            },\r\n          }\r\n        )\r\n        .then(() => {\r\n          textareaRef.current.value = \"\";\r\n          textareaRef.current.style.height = textareaHeight;\r\n        })\r\n        .catch((err) => {\r\n          if (err.response) {\r\n            err.response.status === 401\r\n              ? (document.location.href = \"/\")\r\n              : console.log(err.response);\r\n          }\r\n        }));\r\n\r\n    getPublications();\r\n  };\r\n\r\n  return (\r\n    <div className=\"create-publication d-flex align-items-center\">\r\n      <div className=\"create-publication-header\">\r\n        <h4>Set new publication</h4>\r\n      </div>\r\n      <div\r\n        className=\"create-publication-empty-field d-flex\"\r\n        onClick={areaFocus}\r\n      >\r\n        <div className=\"create-publication-textarea d-flex flex-column\">\r\n          <textarea\r\n            ref={textareaRef}\r\n            className=\"create-publication-textarea\"\r\n            placeholder=\"Tell world about your day...\"\r\n            maxLength={500}\r\n          ></textarea>\r\n        </div>\r\n        <div className=\"create-publication-bottom d-flex flex-column align-items-end\">\r\n          <Button\r\n            className=\"create-publication-button\"\r\n            variant=\"outlined\"\r\n            onClick={addPublication}\r\n          >\r\n            Public\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CreatePublication;\r\n","import React from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport \"./comment.scss\";\r\n\r\ninterface IComment {\r\n  commentId: string;\r\n}\r\n\r\ninterface ICommentData {\r\n  _id: string;\r\n  nickname: string;\r\n  date: string;\r\n  value: string;\r\n}\r\n\r\nconst Comment: React.FC<IComment> = ({ commentId }) => {\r\n  const [commentData, setCommentData] = React.useState<ICommentData>({\r\n    _id: \"\",\r\n    nickname: \"\",\r\n    date: \"\",\r\n    value: \"\",\r\n  });\r\n\r\n  const dateFormatter = (date: Date) => {\r\n    const minutes =\r\n      date.getMinutes() < 10\r\n        ? `0${date.getMinutes()}`\r\n        : date.getMinutes().toString();\r\n    return `${date.getHours()}:${minutes} ${date.toDateString()}`;\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    axios\r\n      .post(\r\n        `${process.env.REACT_APP_SERVER_URL}`.concat(\"comment/getComment\"),\r\n        {\r\n          commentId,\r\n        },\r\n        {\r\n          headers: {\r\n            Authorization: sessionStorage.getItem(\"token\"),\r\n          },\r\n        }\r\n      )\r\n      .then((res) => {\r\n        const { _id, nickname, date, value } = res.data;\r\n        setCommentData({\r\n          _id,\r\n          nickname,\r\n          date: dateFormatter(new Date(date)),\r\n          value,\r\n        });\r\n      })\r\n      .catch((err) => {\r\n        if (err.response) {\r\n          err.response.status === 401\r\n            ? (document.location.href = \"/\")\r\n            : console.log(err.response);\r\n        }\r\n      });\r\n  }, [commentId]);\r\n\r\n  return (\r\n    <div className=\"comment d-flex\">\r\n      <div className=\"comment-header d-flex justify-content-between\">\r\n        <div className=\"col-5 d-flex align-items-center\">\r\n          <div className=\"comment-user-avatar\"></div>\r\n          <div className=\"comment-user-name\">{commentData.nickname}</div>\r\n        </div>\r\n        <div className=\"d-flex w-100 comment-date-main\">\r\n          <div className=\"comment-date\">{commentData.date}</div>\r\n        </div>\r\n      </div>\r\n      <div className=\"comment-body\">{commentData.value}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Comment;\r\n","import React, { SetStateAction } from \"react\";\r\nimport { Button } from \"@material-ui/core\";\r\n\r\nimport \"./addComment.scss\";\r\nimport axios from \"axios\";\r\n\r\ninterface IAddComment {\r\n  publicId: string;\r\n  updateComments: React.Dispatch<SetStateAction<string[]>>;\r\n}\r\n\r\nconst AddComment: React.FC<IAddComment> = ({ publicId, updateComments }) => {\r\n  const textareaRef = React.useRef<any>();\r\n\r\n  let textareaHeight: string | null = null;\r\n\r\n  if (textareaRef.current) {\r\n    textareaHeight = textareaRef.current.style.height;\r\n    textareaRef.current.addEventListener(\"keyup\", () => {\r\n      if (textareaRef.current.scrollTop > 0) {\r\n        textareaRef.current.style.height = `${textareaRef.current.scrollHeight}px`;\r\n      }\r\n    });\r\n  }\r\n\r\n  const addComment = () => {\r\n    const value = textareaRef.current.value.trim();\r\n    if (value.length !== 0) {\r\n      axios\r\n        .put(\r\n          `${process.env.REACT_APP_SERVER_URL}`.concat(\"comment/addComment\"),\r\n          {\r\n            publicId,\r\n            value: textareaRef.current.value,\r\n          },\r\n          {\r\n            headers: {\r\n              Authorization: sessionStorage.getItem(\"token\"),\r\n            },\r\n          }\r\n        )\r\n        .then((res) => {\r\n          textareaRef.current.value = \"\";\r\n          textareaRef.current.style.height = textareaHeight;\r\n          updateComments((prev) => [...prev, res.data.comment._id]);\r\n        })\r\n        .catch((err) => {\r\n          if (err.response) {\r\n            err.response.status === 401\r\n              ? (document.location.href = \"/\")\r\n              : console.log(err.response);\r\n          }\r\n        });\r\n    }\r\n  };\r\n\r\n  const areaFocus = () => {\r\n    textareaRef.current && textareaRef.current.focus();\r\n  };\r\n\r\n  return (\r\n    <div className=\"addComment d-flex\" onClick={areaFocus}>\r\n      <div className=\"addComment-textarea\">\r\n        <textarea\r\n          ref={textareaRef}\r\n          placeholder=\"Set comment...\"\r\n          className=\"addComment-textarea\"\r\n          maxLength={500}\r\n        ></textarea>\r\n      </div>\r\n      <div className=\"addComment-bottom\">\r\n        <Button variant=\"contained\" color=\"primary\" onClick={addComment}>\r\n          Comment\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddComment;\r\n","import React from \"react\";\r\nimport { Modal, Backdrop, Fade } from \"@material-ui/core\";\r\n\r\nimport Comment from \"../comment/comment\";\r\nimport AddComment from \"../addComment/addComment\";\r\n\r\nimport \"./modalWindow.scss\";\r\n\r\ninterface IModalWindow {\r\n  handleClose: VoidFunction;\r\n  open: boolean;\r\n  _id: number;\r\n  setComs: React.Dispatch<React.SetStateAction<string[]>>;\r\n  coms: string[];\r\n  date: string;\r\n  nickname: string;\r\n  value: string;\r\n}\r\n\r\nconst ModalWindow: React.FC<IModalWindow> = ({\r\n  open,\r\n  handleClose,\r\n  _id,\r\n  setComs,\r\n  coms,\r\n  date,\r\n  nickname,\r\n  value,\r\n}) => {\r\n  return (\r\n    <Modal\r\n      className=\"Modal d-flex\"\r\n      open={open}\r\n      onClose={handleClose}\r\n      closeAfterTransition\r\n      BackdropComponent={Backdrop}\r\n      BackdropProps={{\r\n        timeout: 500,\r\n      }}\r\n    >\r\n      <Fade in={open}>\r\n        <div className=\"paper\">\r\n          <div className=\"publication-modal\">\r\n            <div className=\"publication-header d-flex justify-content-between\">\r\n              <div className=\"col-5 d-flex\">\r\n                <div className=\"publication-avatar\"></div>\r\n                <div className=\"publication-name\">\r\n                  <h4>{nickname}</h4>\r\n                </div>\r\n              </div>\r\n              <div className=\"publication-data d-flex\">\r\n                <p>{date}</p>\r\n              </div>\r\n            </div>\r\n            <div className=\"publication-body\">\r\n              <p>{value}</p>\r\n            </div>\r\n          </div>\r\n          <div className=\"publication-comments\">\r\n            <div>\r\n              <AddComment publicId={_id.toString()} updateComments={setComs} />\r\n            </div>\r\n            <div className=\"d-flex flex-column-reverse\">\r\n              {coms.map((comment, index) => (\r\n                <div\r\n                  key={`${comment}`}\r\n                  className={`${index === 0 ? \"modal-comment-last\" : \"\"}`}\r\n                >\r\n                  <Comment commentId={comment} />\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Fade>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default ModalWindow;\r\n","import React from \"react\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faHeart, faComment } from \"@fortawesome/free-solid-svg-icons\";\r\nimport axios from \"axios\";\r\n\r\nimport ModalWindow from \"./components/modalWindow/modalWindow\";\r\n\r\nimport \"./publication.scss\";\r\n\r\ninterface IPublication {\r\n  _id: number;\r\n  nickname: string;\r\n  date: Date;\r\n  value: string;\r\n  likedUsers: Array<String>;\r\n  userId: string;\r\n  comments: Array<string>;\r\n}\r\nconst Publication: React.FC<IPublication> = ({\r\n  _id,\r\n  nickname,\r\n  date,\r\n  value,\r\n  likedUsers,\r\n  userId,\r\n  comments,\r\n}) => {\r\n  const [like, setLike] = React.useState<number>(likedUsers.length);\r\n\r\n  const [coms, setComs] = React.useState<Array<string>>(comments);\r\n\r\n  const [showComments, setShowComments] = React.useState<boolean>(false);\r\n\r\n  const ratePublic = () => {\r\n    axios\r\n      .put(\r\n        `${process.env.REACT_APP_SERVER_URL}`.concat(\"publication/rate\"),\r\n        {\r\n          publicId: _id,\r\n        },\r\n        {\r\n          headers: {\r\n            Authorization: sessionStorage.getItem(\"token\"),\r\n          },\r\n        }\r\n      )\r\n      .then((res) => {\r\n        const { flag, publication } = res.data;\r\n        console.log(flag, publication);\r\n        const likeDiv = document.getElementById(`${_id}`)!;\r\n        publication.likedUsers.includes(sessionStorage.getItem(\"userId\"))\r\n          ? (likeDiv.style.color = \"#ff1919 \")\r\n          : (likeDiv.style.color = \"#525252 \");\r\n        setLike(publication.likedUsers.length);\r\n      })\r\n      .catch((err) => {\r\n        if (err.response) {\r\n          err.response.status === 401\r\n            ? (document.location.href = \"/\")\r\n            : console.log(err.response);\r\n        }\r\n      });\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    const likeDiv = document.getElementById(`${_id}`)!;\r\n    if (likedUsers.includes(sessionStorage.getItem(\"userId\")!)) {\r\n      likeDiv.style.color = \"#ff1919 \";\r\n    } else {\r\n      likeDiv.style.color = \"#525252 \";\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const dateFormatter = (date: Date) => {\r\n    const minutes =\r\n      date.getMinutes() < 10\r\n        ? `0${date.getMinutes()}`\r\n        : date.getMinutes().toString();\r\n    return `${date.getHours()}:${minutes} ${date.toDateString()}`;\r\n  };\r\n\r\n  const handleShow = () => {\r\n    setShowComments(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setShowComments(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"publication\">\r\n      <div className=\"publication-header d-flex justify-content-between align-items-center\">\r\n        <div className=\"col-5 d-flex \">\r\n          <div className=\"publication-avatar\"></div>\r\n          <div className=\"publication-name\">\r\n            <h4>{nickname}</h4>\r\n          </div>\r\n        </div>\r\n        <div className=\"publication-data d-flex\">\r\n          <p>{dateFormatter(new Date(date))}</p>\r\n        </div>\r\n      </div>\r\n      <div className=\"publication-main\">\r\n        <div className=\"publication-body\">\r\n          <p>{value}</p>\r\n        </div>\r\n        <div className=\"publication-bottom\">\r\n          <div className=\"publication-evaluation d-flex \">\r\n            <div className=\"publication-comments d-flex\" onClick={handleShow}>\r\n              <div className=\"comments\">\r\n                <FontAwesomeIcon icon={faComment} />\r\n              </div>\r\n              <p>{coms.length}</p>\r\n            </div>\r\n\r\n            <div\r\n              id={`${_id}`}\r\n              className=\"publication-likes d-flex \"\r\n              onClick={ratePublic}\r\n            >\r\n              <div className=\"like\">\r\n                <FontAwesomeIcon icon={faHeart} />\r\n              </div>\r\n              <p>{like}</p>\r\n            </div>\r\n            <ModalWindow\r\n              nickname={nickname}\r\n              date={dateFormatter(new Date(date))}\r\n              value={value}\r\n              _id={_id}\r\n              setComs={setComs}\r\n              coms={coms}\r\n              handleClose={handleClose}\r\n              open={showComments}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Publication;\r\n","export const setUser = (user) => ({\r\n    type: \"SET_USER\",\r\n    payload: user\r\n})","import React from \"react\";\r\nimport axios from \"axios\";\r\nimport { Menu, MenuItem } from \"@material-ui/core/\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faCheck, faTimes } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nimport { setFriends } from \"../../../../../redux/actions/friends\";\r\nimport { setUser } from \"../../../../../redux/actions/user\";\r\n\r\nimport \"./friendRequests.scss\";\r\n\r\nconst ITEM_HEIGHT = 48;\r\n\r\ninterface IFriendRequest {\r\n  anchorEl: null | HTMLElement;\r\n  open: boolean;\r\n  handleClose: () => void;\r\n  waitForRes: [string];\r\n}\r\n\r\nexport default function FriendRequest({\r\n  anchorEl,\r\n  open,\r\n  handleClose,\r\n  waitForRes,\r\n}: IFriendRequest) {\r\n  const [users, setUsers] = React.useState<any>([]);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  React.useEffect(() => {\r\n    waitForRes.forEach((id) =>\r\n      axios\r\n        .get(`http://localhost:5000/api/`.concat(`page/find/id=${id}`), {\r\n          headers: {\r\n            Authorization: sessionStorage.getItem(\"token\"),\r\n          },\r\n        })\r\n        .then((res) => {\r\n          const { user } = res.data;\r\n          setUsers((prev: any) => [...prev, user]);\r\n        })\r\n    );\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const handleAnswer = (userId: string, status: boolean) => {\r\n    axios\r\n      .put(\r\n        `${process.env.REACT_APP_SERVER_URL}`.concat(\"/page/friends/add\"),\r\n        {\r\n          userId,\r\n          status,\r\n        },\r\n        {\r\n          headers: {\r\n            Authorization: sessionStorage.getItem(\"token\"),\r\n          },\r\n        }\r\n      )\r\n      .then((res) => dispatch(setUser(res.data.user)));\r\n\r\n    if (status) {\r\n      axios\r\n        .get(\r\n          `${process.env.REACT_APP_SERVER_URL}`.concat(`page/find/${userId}`),\r\n          {\r\n            headers: {\r\n              Authorization: sessionStorage.getItem(\"token\"),\r\n            },\r\n          }\r\n        )\r\n        .then((res) => dispatch(setFriends(res.data.user)));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Menu\r\n      id=\"long-menu\"\r\n      anchorEl={anchorEl}\r\n      keepMounted\r\n      open={open}\r\n      onClose={handleClose}\r\n      PaperProps={{\r\n        style: {\r\n          maxHeight: ITEM_HEIGHT * 4.5,\r\n          width: \"20ch\",\r\n        },\r\n      }}\r\n      className=\"f-req-menu\"\r\n    >\r\n      <div className=\"friend-req-list\">Friend Requests </div>\r\n      {(users.length > 0 &&\r\n        users.map((user: any, index: number) => {\r\n          return (\r\n            user && (\r\n              <MenuItem\r\n                key={`${user._id}_${index}`}\r\n                selected={user._id === \"Pyxis\"}\r\n                onClick={handleClose}\r\n              >\r\n                <div className=\"d-flex align-items-center w-100\">\r\n                  <div className=\"friend-req-img\"></div>\r\n                  <div className=\"f-req-nickname\">{user.nickname}</div>\r\n                </div>\r\n                <div className=\"f-req-todo\">\r\n                  <FontAwesomeIcon\r\n                    icon={faCheck}\r\n                    className=\"f-req-todo-accept\"\r\n                    onClick={() => handleAnswer(user._id, true)}\r\n                  />\r\n                  <FontAwesomeIcon\r\n                    icon={faTimes}\r\n                    className=\"f-req-todo-decline\"\r\n                    onClick={() => handleAnswer(user._id, false)}\r\n                  />\r\n                </div>\r\n              </MenuItem>\r\n            )\r\n          );\r\n        })) || <div className=\"f-req-empty d-flex\">No friend requests</div>}\r\n    </Menu>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport {\r\n  AppBar,\r\n  Toolbar,\r\n  Typography,\r\n  IconButton,\r\n  Badge,\r\n} from \"@material-ui/core\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport NotificationsIcon from \"@material-ui/icons/Notifications\";\r\nimport { useSelector } from \"react-redux\";\r\nimport axios from \"axios\";\r\n\r\nimport \"./header.scss\";\r\n\r\nimport FriendRequests from \"./components/friendRequests\";\r\n\r\ninterface RootState {\r\n  user: User;\r\n}\r\n\r\ninterface User {\r\n  nickname: string;\r\n  publications: [];\r\n  _id: string;\r\n  requests: [string];\r\n  waitingForResponse: [string];\r\n}\r\n\r\ninterface DefaultRootState {\r\n  userId: string;\r\n  waitingForResponse: [string];\r\n}\r\n\r\nconst Header: React.FC = () => {\r\n  const nicknameRef = React.useRef<any>();\r\n  const anchorElRef = React.useRef<null | HTMLDivElement>(null);\r\n  const [render, setRender] = React.useState<boolean>(true);\r\n  const [open, setOpen] = React.useState<boolean>(false);\r\n\r\n  const handleClick = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const headerState: DefaultRootState = useSelector(({ user }: RootState) => {\r\n    const { waitingForResponse, _id: userId } = user;\r\n\r\n    return { waitingForResponse, userId };\r\n  });\r\n\r\n  const { waitingForResponse, userId } = headerState;\r\n\r\n  React.useEffect(() => {\r\n    userId === sessionStorage.getItem(\"userId\")\r\n      ? setRender(true)\r\n      : setRender(false);\r\n  }, [userId]);\r\n\r\n  const findByNickname = () => {\r\n    nicknameRef.current &&\r\n      axios\r\n        .get(\r\n          `${process.env.REACT_APP_SERVER_URL}`.concat(\r\n            `page/find/name/nickname=${nicknameRef.current.value}`\r\n          ),\r\n          {\r\n            headers: {\r\n              Authorization: sessionStorage.getItem(\"token\"),\r\n            },\r\n          }\r\n        )\r\n        .then((res) => {\r\n          nicknameRef.current.value = \"\";\r\n          document.location.href = `${process.env.REACT_APP_CLIENT_URL}`.concat(\r\n            `/id=${res.data.user._id}`\r\n          );\r\n        });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {render && (\r\n        <FriendRequests\r\n          waitForRes={waitingForResponse}\r\n          anchorEl={anchorElRef.current}\r\n          open={open}\r\n          handleClose={handleClose}\r\n        />\r\n      )}\r\n      <div className=\"main-header d-flex\">\r\n        <AppBar position=\"static\" className=\"m-header\">\r\n          <div className=\"container\">\r\n            <Toolbar className=\"d-flex justify-content-between\">\r\n              <Typography className=\"col-9\" variant=\"h6\" noWrap>\r\n                Social Network\r\n              </Typography>\r\n              <div\r\n                className=\"badge-icon-header\"\r\n                ref={anchorElRef}\r\n                onClick={handleClick}\r\n              >\r\n                {render && (\r\n                  <IconButton color=\"inherit\">\r\n                    <Badge\r\n                      badgeContent={waitingForResponse.length}\r\n                      color=\"secondary\"\r\n                    >\r\n                      <NotificationsIcon />\r\n                    </Badge>\r\n                  </IconButton>\r\n                )}\r\n              </div>\r\n\r\n              <div className=\"main-header-search d-flex\">\r\n                <div className=\"header-searchIcon\">\r\n                  <SearchIcon onClick={findByNickname} />\r\n                </div>\r\n                <input\r\n                  className=\"header-input\"\r\n                  ref={nicknameRef}\r\n                  placeholder=\"Find user...\"\r\n                />\r\n              </div>\r\n            </Toolbar>\r\n          </div>\r\n        </AppBar>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\nexport default Header;\r\n","import React from \"react\";\r\n\r\nimport { Button } from \"@material-ui/core\";\r\n\r\ninterface IAddFriendButton {\r\n  sendFriendRequest: () => void;\r\n  follow: boolean;\r\n  friends: any;\r\n}\r\n\r\nexport default function AddFriendButton({\r\n  sendFriendRequest,\r\n  friends,\r\n  follow,\r\n}: IAddFriendButton) {\r\n  return (\r\n    <div>\r\n      {friends && (\r\n        <Button\r\n          variant=\"outlined\"\r\n          onClick={sendFriendRequest}\r\n          disabled={friends.includes(sessionStorage.getItem(\"userId\"))}\r\n        >\r\n          {follow ? \"Sended...\" : \"Send Friend Request\"}\r\n        </Button>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport axios from \"axios\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nimport \"./Home.scss\";\r\n\r\nimport FriendsList from \"./components/friendsList/friendsList\";\r\nimport CreatePublication from \"./components/createPublication/createPublication\";\r\nimport Publication from \"./components/publication/publication\";\r\nimport Header from \"./components/header/header\";\r\nimport AddFriendButton from \"./components/addFriendButton/addFriendButton\";\r\n\r\nimport { setUser } from \"../../redux/actions/user\";\r\n\r\ninterface RootState {\r\n  user: User;\r\n}\r\n\r\ninterface User {\r\n  friends: [any];\r\n  nickname: string;\r\n  publications: [];\r\n  _id: string;\r\n  requests: [string];\r\n  waitingForResponse: [string];\r\n}\r\n\r\ninterface DefaultRootState {\r\n  friends: [any];\r\n  nickname: string;\r\n  publications: any[];\r\n  userId: string;\r\n  requests: [string];\r\n  follow: boolean;\r\n}\r\n\r\nexport const Home: React.FC = () => {\r\n  const [publics, setPublics] = React.useState<Array<any>>([]);\r\n  const [myPage, setMyPage] = React.useState<boolean>(true);\r\n  const id: string | null = sessionStorage.getItem(\"userId\");\r\n\r\n  const userState: DefaultRootState = useSelector(({ user }: RootState) => {\r\n    const { nickname, _id, requests: _req, waitingForResponse, friends } = user;\r\n    const follow = waitingForResponse.includes(\r\n      sessionStorage.getItem(\"userId\")!\r\n    );\r\n    return {\r\n      friends,\r\n      nickname,\r\n      publications: publics,\r\n      userId: _id,\r\n      requests: _req,\r\n      follow,\r\n    };\r\n  });\r\n\r\n  const getAllPublications = React.useCallback(() => {\r\n    userState.userId &&\r\n      axios\r\n        .get(\r\n          `${process.env.REACT_APP_SERVER_URL}`.concat(\r\n            `publication/getAll/${userState.userId}`\r\n          )\r\n        )\r\n        .then((res) => {\r\n          setPublics(res.data.publications);\r\n        })\r\n        .catch((err) => {\r\n          if (err.response) {\r\n            err.response.status >= 400\r\n              ? (document.location.href = \"/\")\r\n              : console.log(err.response);\r\n          }\r\n        });\r\n  }, [userState.userId]);\r\n\r\n  const sendFriendRequest = () => {\r\n    axios\r\n      .put(\r\n        `${process.env.REACT_APP_SERVER_URL}`.concat(\"page/friends/send\"),\r\n        {\r\n          userId: userState.userId,\r\n        },\r\n        {\r\n          headers: {\r\n            Authorization: sessionStorage.getItem(\"token\"),\r\n          },\r\n        }\r\n      )\r\n      .then((res) => {\r\n        dispatch(setUser(res.data.potentialFriend));\r\n      });\r\n  };\r\n\r\n  console.log(process.env);\r\n  const dispatch = useDispatch();\r\n\r\n  React.useEffect(() => {\r\n    axios\r\n      .get(\r\n        `${process.env.REACT_APP_SERVER_URL}`.concat(\r\n          `page/find/${window.location.href.split(\"/\").pop()}`\r\n        ),\r\n        {\r\n          headers: {\r\n            Authorization: sessionStorage.getItem(\"token\"),\r\n          },\r\n        }\r\n      )\r\n      .then((res) => {\r\n        dispatch(setUser(res.data.user));\r\n        setMyPage(userState.userId === id);\r\n        getAllPublications();\r\n      });\r\n  }, [dispatch, getAllPublications, id, userState.userId]);\r\n\r\n  return (\r\n    <div className=\"container home-main d-flex\">\r\n      <Header />\r\n      <div className=\"user-about d-flex\">\r\n        <div className=\"user-page-nick-image d-flex\">\r\n          <div className=\"user-image\"></div>\r\n          <div className=\"user-nickname\">{userState.nickname}</div>\r\n        </div>\r\n        {!myPage && (\r\n          <div className=\"user-add-friend-button\">\r\n            <AddFriendButton\r\n              sendFriendRequest={sendFriendRequest}\r\n              follow={userState.follow}\r\n              friends={userState.friends}\r\n            />\r\n          </div>\r\n        )}\r\n      </div>\r\n      <div className=\"d-flex\">\r\n        <div className=\"user-body d-flex col-8\">\r\n          {myPage && (\r\n            <div className=\"user-create-publication\">\r\n              <CreatePublication getPublications={getAllPublications} />\r\n            </div>\r\n          )}\r\n          <div className=\"user-data d-flex flex-column-reverse\">\r\n            {(publics &&\r\n              publics.length > 0 &&\r\n              publics.map((publication, index) => {\r\n                return (\r\n                  <div\r\n                    key={`${index}_${Date.now()}`}\r\n                    className={`user-publication ${\r\n                      index === 0 ? \"publication-last\" : \"\"\r\n                    }`}\r\n                  >\r\n                    {publication && (\r\n                      <Publication\r\n                        {...publication}\r\n                        nickname={userState.nickname}\r\n                      />\r\n                    )}\r\n                  </div>\r\n                );\r\n              })) || (\r\n              <div className=\"user-publications-empty\">\r\n                There is no publications.\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n        <div className=\"col-3 \">\r\n          <FriendsList />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","// import { AdjustSharp } from \"@material-ui/icons\";\r\nimport React from \"react\";\r\nimport { BrowserRouter, Route } from \"react-router-dom\";\r\nimport { Auth } from \"./components/authPage/Auth\";\r\nimport { Home } from \"./components/homePage/Home\";\r\n\r\nclass App extends React.Component {\r\n  render() {\r\n    return (\r\n      <BrowserRouter basename={process.env.REACT_APP_CLIENT_URL}>\r\n        <Route path=\"/\" exact component={Auth} />\r\n        <Route path=\"/:id\" exact component={Home} />\r\n      </BrowserRouter>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","const initialState = []\r\n\r\nconst friendsReducer = (state = initialState, action) => {\r\n    if (action.type === \"SET_FRIENDS\") {\r\n        return action.payload ? [\r\n            ...state, action.payload\r\n        ] : [...state]\r\n    }\r\n\r\n    return state;\r\n}\r\n\r\nexport default friendsReducer;","const initialState = false\r\n\r\nconst listOfReqReducer = (state = initialState, action) => {\r\n    if (action.type === \"SHOW_LIST\") {\r\n        return !state\r\n    }\r\n\r\n    return state;\r\n}\r\n\r\nexport default listOfReqReducer;","const initialState = {\r\n    nickname: null,\r\n    publications: [],\r\n    _id: null,\r\n    requests: [],\r\n    waitingForResponse: []\r\n};\r\n\r\nconst userReducer = (state = initialState, action) => {\r\n    if (action.type === \"SET_USER\") {\r\n        return {\r\n            ...state,\r\n            ...action.payload\r\n        };\r\n    }\r\n\r\n    return state;\r\n}\r\n\r\nexport default userReducer;","import { combineReducers } from \"redux\";\r\nimport friendsReducer from \"./friends\";\r\nimport listOfReqReducer from \"./listOfReq\";\r\nimport userReducer from \"./user\";\r\n\r\nconst rootReducer = combineReducers({\r\n    user: userReducer,\r\n    friends: friendsReducer,\r\n    showList: listOfReqReducer,\r\n    //another reducers\r\n})\r\n\r\nexport default rootReducer;","import { createStore } from \"redux\";\r\nimport rootReducer from './reducers';\r\n\r\nconst store = createStore(rootReducer, window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__());\r\n\r\nwindow.store = store;\r\n\r\nexport default store;","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport \"./index.scss\";\nimport App from \"./App.jsx\";\nimport store from \"./redux/store\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}